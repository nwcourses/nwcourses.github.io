<!DOCTYPE html><html>
<head>
<title>MAD Topic 5: Permissions and GPS, Box Layouts</title> 
<link rel="stylesheet" type="text/css" href="../css/android.css" />
</head>
<body>
<div class='titlebox'>
<h1>MAD Topic 5 : Permissions and GPS, Box Layouts</h1>
</div>

<p><strong>Please note that Topic 5 is not yet complete</strong>. Part of the content, on Box layouts, has been pre-prepared to allow you to do the more advanced exercise in Topic 4.</p>

<h2>Box Layouts</h2>
<p>Imagine you want to display a map <em>above</em> a row containing text fields and a button to set the location. If you think about it, this isn't so easy. If you specify the modifier for the map to be <code>Modifier.fillMaxSize()</code>, it will occupy the whole of the screen and there will be no room for the row. If you add the row first, it will appear on top of the screen.</p>
<p>What we need is another type of layout which allows us to specify exactly where each composable will be positioned, so we can position a composable at the top, the bottom, the left or the right. The <code>Box</code> composable allows us to do this.</p>
<p>In a <code>Box</code>, we can specify the <em>alignment</em> of the composables within the box. Here is an example:
<pre>Box(Modifier.fillMaxSize()) {
    Button(
        { }, modifier =
        Modifier.align(Alignment.BottomCenter)
    ) { Text("Bottom") }

    Button(
        { }, modifier =
        Modifier.align(Alignment.TopCenter)
    ) { Text("Top") }

    Button(
        { }, modifier =
        Modifier.align(Alignment.BottomStart)
    ) { Text("Bottom Start") }

    Button(
        { }, modifier =
        Modifier.align(Alignment.CenterEnd)
    ) { Text("Centre End") }
}</pre>
</p>
<p>This layout would look something like this:
<br />
<img src="../images/boxlayout.png" alt="Box Layout" />
<br />
Note how we use the <code>align()</code> method of our <code>Modifier</code> for each button, to specify where it is aligned within the box. The possible values include:
    <ul>
    <li><code>TopStart</code> - the top left of the box (but top right in left-to-right languages, such as Arabic);</li>
    <li><code>TopCenter</code> - the centre of the top of the box;</li>
    <li><code>TopEnd</code> - the top right of the box (but top left in left-to-right languages);</li>
    <li><code>CenterStart</code> - the centre left of the box (but centre right in left-to-right languages);</li>
    <li><code>Center</code> - the centre of the box;</li>
    <li><code>CenterEnd</code> - the centreright of the box (but centre left in left-to-right languages);</li>
    <li><code>BottomStart</code> - the bottom left of the box (but bottom right in left-to-right languages);</li>
    <li><code>BottomCenter</code> - the centre of the bottom of the box;</li>
    <li><code>BottomEnd</code> - the bottom right of the box (but bottom left in left-to-right languages).</li>
    </ul>
</p>
<h3>BoxWithConstraints</h3>
<p>The <code>BoxWithConstraints</code> is an enhanced <code>Box</code> which allows us to obtain the <code>Box</code>'s width and height from within it. Why is this useful? It makes it easier to create layouts which adapt to the screen size. For example, in our mapping application we might want to set the height of the row containing the text fields and buttons to 80dp. How big must the map be in this case? You want it to occupy the <em>remainder</em> of the screen. To calculate this, you subtract the height of the row (80dp) from the <em>total</em> height. Inside a <code>BoxWithConstraints</code>, you can use:
	<ul>
	<li><code>this.maxWidth</code> to obtain the total width;</li>
	<li><code>this.maxHeight</code> to obtain the total height.</li>
	</ul>
These give a value in <code>dp</code> so you can subtract the height of the controls row, also in <code>dp</code>, to obtain a height in <code>dp</code> for the map. You can then call <code>Modifier.height()</code> to set the height of the map to this calculated height.
</p>
</body>
</html>

