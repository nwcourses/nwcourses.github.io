<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>Topic 6: Web Mapping with OpenStreetMap and Leaflet</title>
<meta http-equiv='Content-Type' content='text/html;charset=ISO-8859-1' />
<link rel='stylesheet' type='text/css' href='../css/dfti0910.css' />
</head><body>
<div class='titlebox'>
<h1>Topic 6: Web Mapping with OpenStreetMap and Leaflet: Further Reading</h1>
</div>
<h2>Circles, polylines and polygons</h2>
<p>The following example shows how to create circle, 
polyline (i.e. a line with multiple points) and polygon features:
<pre>
import 'leaflet';
import 'leaflet/dist/leaflet.css';

const map = L.map ("map1");

const attrib="Map data copyright OpenStreetMap contributors, Open Database Licence";

L.tileLayer
        ("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
            { attribution: attrib } ).addTo(map);

map.setView([50.908, -1.4], 14);


const solent = L.circle([50.9079, -1.4015], { radius:100}).addTo(map); 


// Saints stadium (football ground)
const saints = L.polygon ( [
        [50.9063 , -1.3914 ] ,
        [50.9063 , -1.3905 ] ,
        [50.9053 , -1.3905 ] ,
        [50.9053 , -1.3914 ]
        ] ).addTo(map);

// Route to railway station
const routeToStation = L.polyline ( [
        [50.9079, -1.4015] ,
        [50.9071, -1.4015], 
        [50.9069, -1.4047],
        [50.9073, -1.4077],
        [50.9081, -1.4134] 
        ]).addTo(map);

solent.bindPopup("Solent University");
saints.bindPopup("Saints stadium");
routeToStation.bindPopup("Route to station");
</pre>
</p>
<p>Again, hopefully this should be mostly self-explanatory. The second
parameter when creating a circle is the radius in metres.
For polygons and polylines, we specify the shape using an array of points.
Each point is a two-member array containing latitude and longitude.</p>
<h2>Styling features</h2>
<p>We can create custom styles for map features. For polygons, circles and
polylines, we can set properties such as the colour and the opacity
(opposite of transparency: 0 is completely transparent and 1 is
completely opaque).</p>
<pre>
import 'leaflet';
import 'leaflet/dist/leaflet.css';

const map = L.map ("map1");

const attrib="Map data copyright OpenStreetMap contributors, Open Database Licence";

L.tileLayer
        ("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
            { attribution: attrib } ).addTo(map);

map.setView([50.908, -1.4], 14);


const solent = L.circle([50.9079, -1.4015], { radius:100, fillColor: 'blue',
                                color: 'red', opacity: 0.5 }).addTo(map); 


// Saints stadium (football ground)
const saints = L.polygon ( [
        [50.9063 , -1.3914 ] ,
        [50.9063 , -1.3905 ] ,
        [50.9053 , -1.3905 ] ,
        [50.9053 , -1.3914 ]
        ] ).addTo(map);

// Route to railway station
const routeToStation = L.polyline ( [
        [50.9079, -1.4015] ,
        [50.9071, -1.4015], 
        [50.9069, -1.4047],
        [50.9073, -1.4077],
        [50.9081, -1.4134] 
        ]).addTo(map);
        
solent.bindPopup("Solent University");
saints.bindPopup("Saints stadium");
routeToStation.bindPopup("Route to station");

</pre>
<p>
In this example, we have set the circle's fill colour (interior colour) to
blue, its outline colour to red, and the opacity to 0.5.</p>
<h2>Displaying markers from a web API</h2>
<p>A common use of web mapping is to show data from a web API on a 
map. For example, we might want to show the location of restaurants in a 
particular city on a web map. This is quite easy - you simply need to make an
AJAX request to a web API, parse the JSON (or XML) returned and create
markers using the data. The following exercise will allow you to explore
this.</p>
</body>
</html>

