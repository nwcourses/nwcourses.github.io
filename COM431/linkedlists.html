<!DOCTYPE html><html lang='en'><head><link rel='stylesheet' type='text/css' href='../css/dfti0910.css'>
<title>Linked Lists</title>
<meta charset="utf-8">
</head>
<body>
<main>
<div class='content-public'>
<h1>Linked Lists</h1>
<h2 id="thelinkedlist">Introduction</h2>
<p>We will look at a further data structure, <em>linked lists</em>. Linked lists, which are <em>different to the plain <strong>list</strong>s we discussed above</em>, are unlike arrays
in that they are <em>not</em> stored continuously in memory. Instead, data is stored
as a series of linked <em>nodes</em>. Each node contains one item of data, and links
to the memory locations of the previous and the next item of data in the 
linked list.</p>
<p><img src="../images/linkedlist.png" alt="Linked list diagram"></p>
<p>Each node has a link to the previous and the following node. When we add
a new item of data, we make the previous node link to the new node, and
we link the new node back to the previous node to form a two-way link.</p>
<p>The first node in the list links to nothing in the reverse direction (indicated in Python by the special value <code>None</code>) and similarly, the final node in the list links to nothing in the forward direction.</p>
<p>In addition, a linked list contains <em>two variables pointing to the first node and the last node</em>. This means that we can always access the start of the linked list and the end of the linked list very quickly and efficiently.</p>
</div>

<div class='content-exercise' data-id='1'>
<p>We will now think about the consequences of this.</p>
<div class='questions'></div>
</div>

<div class='content-protected' data-depends='1'>
<ul>
<li><p>Remember how we could use simple arithmetic, using the array index, to 
calculate the location in memory of a given element in an array. Can
we do this here? <strong>We cannot. This is because, in a linked list, items are not stored continuously in memory. Instead, each node contains references to the memory locations of the previous and the following node.</strong> The diagram below shows how we have to search through the linked list by following the forward links until we find the index we need:</p>
<img src='../images/linked_list_index.png' alt='Indexing  a linked list' />
</li>
<li><p>On the other hand, <strong>as long as we have a reference to both the start and the end of the linked list, it's efficient to add a new member to the end of the linked list</strong>. We can just create a new node and link it, both ways, to the end node. Contrast this to arrays, in which we had to create a new array with additional space and copy the elements over. We will explore this in more detail in the exercises this week.</p>
<p>You can see this below with a linked list containing operating systems:</p>
<img src='../images/linked_list_append.png' alt='Appending to a linked list' /></li>
<li><p>Insertion into the <em>middle</em> of the list (not asked as a question in the exercise) has mixed efficiency. On the one hand we have to find the index we want to insert the element at (which as we saw above is inefficient), on the other hand the actual insertion process is easier as we can just break the existing links between the node BEFORE the element we want to insert and the node AFTER this element, and then link in the new element.</p>
<p>The diagram below shows the process of adding a new element by inserting it after another element. The operation would typically take, as parameters, the index we want to insert at (2 here, i.e. element CC) and the new data (DD here) to insert.</p>
<img src='../images/linked_list_insertion.png' alt='Inserting into the middle of a linked list' />
</li>
</ul>
</div>
<h2 id="implementingalinkedlistusingclasses">Implementing a linked list using classes</h2>
<p>We'll now move on to implementing the linked list - in code. As you may remember, linked lists are a bit more complex than stacks so require a bit more effort to implement. In particular, we will now need <em>two</em> classes, not one. Put each class in its own file and import them into your <code>main.py</code>.</p>
<ul>
<li><p>a <code>Node</code> class to represent an individual node. Each item of data is contained within a <em>node</em>, along with the links to the previous and next item. </p></li>
<li><p>a <code>LinkedList</code> class to represent the linked list as a whole. Remember that
this 
needs to contain references to the first and last nodes in the linked 
list.</p></li>
</ul>
<h3 id="exercise1createanodeclass">Exercise: Create a Node class</h3>
<ol>
<li>Create a <em>new</em> PyCharm project. Inside a new file, create a <code>Node</code> class. It should contain an <code>__init__()</code> method which looks like this:</li>
</ol>
<pre><code class="python language-python">def __init__(self, data):
   self.data = data
   self.prev = None
   self.next = None
</code></pre>
<p>What does this do? Remember we use <code>__init__()</code> to initialise an object of the class. A node needs to contain data. So this <code>__init__()</code> method allows us to create a node, and pass the data to it. The data then gets attached to the current node we're working with, using <code>self.data = data</code>.</p>
<p>Note how we initialise the <code>prev</code> and <code>next</code> attributes to <code>None</code>. These attributes represent the previous and next node. <code>None</code> is a special data type indicating that nothing exists yet; it will be appropriate here as we haven't linked this node to any others yet.</p>
<ol start="2">
<li><p>Add a <code>__str__()</code> method to Node which returns a string containing the value associated with the node.</p></li>
<li><p>Create some test code in <code>main.py</code> which creates two nodes, <code>n1</code> and <code>n2</code>, for example;</p></li>
</ol>
<pre><code class="python language-python">n1 = Node("Fred")
n2 = Node("Tom")
</code></pre>
<p>Note how we pass the data associated with each node ("Fred" and "Tom" here) when we create it. This will call our <code>Node</code> class's <code>__init__()</code> method, and set the variable <code>data</code> equal to whatever was passed in (Fred or Tom).</p>
<ol start="4">
<li><p>Now try printing <code>n1</code> and <code>n2</code> to prove that the nodes have been created separately.</p></li>
</ol>
<h3 id="exercise2creatingthelinkedlistitself">Exercise: Creating the linked list itself</h3>
<p>We have now created our <code>Node</code> class. We are now going to use it in a complete <code>LinkedList</code> class which will allow you to add nodes to a linked list, and access the linked list's first and last members.</p>
<p>Create a separate file for your <code>LinkedList</code> class and import it into <code>main.py</code> again. You will need to import <code>Node</code> into <code>LinkedList</code>.</p>
<ol>
<li><p>Create a LinkedList class. Its <code>__init__()</code> method should initialise two attributes, <code>self.first</code> and <code>self.last</code> to <code>None</code>. (These are the references to the first and last node in the list).</p></li>
<li>Add an <code>add()</code> method to your linked list. This should add a <code>Node</code> to the end of your linked list. Ensure this is added correctly, according to the discussion we had last week.</li>
<li>Add a <code>get()</code> method to your linked list. This should take an index as a parameter, i.e. write it as:</li>
</ol>
<pre><code class="python language-python">def get(self, index):
</code></pre>
<p>and should search the linked list for the node at that index. Having found it, it should return it.</p>
<ol start="4">
<li><p>Test out your linked list by creating three <code>Node</code> objects and adding them to your <code>LinkedList</code>. Once you've added them, try searching for them within the linked list using their index. </p></li>
<li><p>Try searching for an index which does not exist in the linked list, such as index 10 for example. Is the error handled correctly?</p></li>
<li><strong>More advanced</strong>: Add functionality to insert a new element into the middle of the linked list. The method should take two parameters: the index to insert the data, and the data to be inserted.</li>
</ol>

</main>
</body>
</html>
